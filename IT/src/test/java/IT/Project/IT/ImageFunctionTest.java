package IT.Project.IT;

import IT.Project.IT.Models.Image;
import IT.Project.IT.Models.Post;
import IT.Project.IT.Models.User;
import IT.Project.IT.Repository.ImageRepository;
import IT.Project.IT.Repository.PostRepository;
import IT.Project.IT.Repository.UserRepository;
import org.junit.jupiter.api.BeforeAll;
import org.junit.jupiter.api.Test;
import org.junit.jupiter.api.TestInstance;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;
import org.springframework.security.crypto.password.PasswordEncoder;


import java.time.LocalDate;
import java.time.format.DateTimeFormatter;
import java.util.ArrayList;
import java.util.List;

import static org.assertj.core.api.AssertionsForClassTypes.assertThat;



@SpringBootTest
@TestInstance(TestInstance.Lifecycle.PER_CLASS)
public class ImageFunctionTest {

    @Autowired
    private ImageRepository imageRepositoryTest;

    private String imageId;

    private String imageStringMock = "data:image/png;base64,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";

    private byte[] imageByteMock = imageStringMock.getBytes();

    @BeforeAll
    void dbSetup(){
        Image image = new Image();
        byte[] imageBytes = imageStringMock.getBytes();
        image.setImage(imageBytes);
        imageRepositoryTest.insert(image);
        imageId = image.getId();

    }
    @Test
    void imageStringShouldBeConvertedToByteArray(){
        byte[] imageBytes = imageStringMock.getBytes();
        assertThat(imageBytes).isNotNull().isNotEmpty();
        assertThat(imageBytes).isEqualTo(imageByteMock);
    }

    @Test
    void imageByteShouldBeConvertedToString(){
        String imageString = new String(imageByteMock);
        assertThat(imageString).isNotNull().isNotEmpty();
        assertThat(imageString).isEqualTo(imageStringMock);
    }

    @Test
    void ImageShouldFindById(){
        assertThat(imageId).isNotNull();
        Image image = imageRepositoryTest.findById(imageId).get();
        assertThat(image).isNotNull();
        assertThat(image.getId()).isEqualTo(imageId);
        assertThat(image.getImage()).isNotNull();
        assertThat(new String(image.getImage())).isEqualTo(imageStringMock);
    }



}
